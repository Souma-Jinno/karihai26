# karihai26

PWM制御電源モニタリングシステムの設計・開発プロジェクト

## 📋 プロジェクト概要

このリポジトリは、DC-DCコンバータ（昇圧回路）をベースとしたPWM制御電源モニタリングシステムの開発資料をまとめたものです。回路設計、基板設計、シミュレーション、プログラミングまでの一連の工程をカバーしています。

### 主な機能
- PWM信号による昇圧回路の制御
- 電圧・電流のリアルタイムモニタリング（INA226使用）
- OLEDディスプレイによる測定値表示（SSD1306使用）
- ESP32マイコンによる制御とデータ処理

## 📂 ディレクトリ構成

```
karihai26/
├── LTspice/                    # LTspice関連資料
│   ├── 01_LTspiceインストールガイド.md
│   ├── 02_LTspice昇圧回路シミュレーション実践.md
│   ├── 01_figure/             # インストールガイド図版（ローカルのみ）
│   └── 02_figure/             # シミュレーション実践図版（ローカルのみ）
│
├── Kicad/                      # KiCad関連資料
│   ├── 01_KiCadインストールガイド.md
│   └── figure/                # 図版（ローカルのみ）
│
├── slide/                      # プレゼンテーション資料
│   └── 251120_karihaizemi.pdf # ゼミ発表スライド
│
└── README.md                   # このファイル
```

## 🛠️ 使用ツール・部品

### 設計・シミュレーションツール
- **LTspice24**: 回路シミュレーション
- **KiCad**: プリント基板設計

### 主要電子部品
| 部品 | 型番 | 仕様 |
|------|------|------|
| マイコン | ESP32-DevKitC-32E | Wi-Fi/BLE搭載 |
| 電流センサ | INA226 | I2C通信、高精度 |
| ディスプレイ | SSD1306 | 0.96" OLED、128×64 |
| MOSFET | TK40A06N1 | 60V 40A、Rds(on)=4mΩ |
| インダクタ | TCV-470M-9A-8026 | 47µH、定格電流7A |
| ダイオード | MA10EB045 | ショットキー、45V 10A |

詳細な部品リストは `251116_部品リスト_KiCadシンボルフットプリント対応表.md` を参照してください。

## 📚 ドキュメント

### LTspice関連
1. **[01_LTspiceインストールガイド](LTspice/01_LTspiceインストールガイド.md)**
   - LTspice24のダウンロード・インストール手順
   - 動作確認方法

2. **[02_LTspice昇圧回路シミュレーション実践](LTspice/02_LTspice昇圧回路シミュレーション実践.md)**
   - 昇圧回路（ブーストコンバータ）の作成
   - PWM制御信号の設定
   - ゲート駆動回路の設計
   - 理論値と実測値の比較・調査方法
   - 実際の部品を使った演習課題

### KiCad関連
1. **[01_KiCadインストールガイド](Kicad/01_KiCadインストールガイド.md)**
   - KiCadのダウンロード・インストール手順
   - 日本語環境の設定

## 🎯 学習ポイント

### 回路シミュレーション（LTspice）
- 昇圧回路の基本動作原理
- PWM制御によるデューティ比と出力電圧の関係
- MOSFETゲート駆動回路の重要性
- 理論値と実測値の違いの分析手法

### 基板設計（KiCad）
- 回路図エディタ（Eeschema）の使用
- プリント基板エディタ（Pcbnew）の使用
- シンボルとフットプリントの対応

## 🔬 シミュレーション例

### 昇圧回路の設計パラメータ

```
入力電圧（Vin）: 5V
デューティ比（D）: 0.5 (50%)
理論出力電圧: Vout = Vin / (1 - D) = 5V / 0.5 = 10V
スイッチング周波数: 1kHz (演習で100kHzに変更)

主要部品:
- L1: 700µH（学習用）/ 47µH（実部品）
- C1: 1000µF
- R1: 30Ω（負荷抵抗）
- R2: 10Ω（ゲート抵抗）
- R3: 10kΩ（プルダウン抵抗）
```

## 📊 演習課題

チュートリアルでは以下の演習課題を用意しています:

1. **部品値の変更実験**: 実際に購入した部品（47µH、100µH等）を使用したシミュレーション
2. **周波数の計算**: スイッチング周波数を1kHz→100kHzに変更する方法
3. **デューティ比の影響**: デューティ比と出力電圧の理論値・実測値の比較

## 🚀 プロジェクトの進め方

1. **LTspiceインストール**: [インストールガイド](LTspice/01_LTspiceインストールガイド.md)に従ってセットアップ
2. **回路シミュレーション**: [昇圧回路シミュレーション実践](LTspice/02_LTspice昇圧回路シミュレーション実践.md)で基本動作を理解
3. **理論値の検証**: シミュレーション結果と理論値を比較し、波形を分析
4. **KiCadで基板設計**: 回路図作成→フットプリント配置→基板レイアウト
5. **実装・動作確認**: 実際の部品で回路を組み立て、動作検証

## 📝 注意事項

### 図版ファイルについて
- `*_figure/`および`figure/`フォルダはローカルリポジトリにのみ存在します
- リモートリポジトリには`.gitignore`により除外されています
- クローン時は図版なしでドキュメントが表示されます

### 推奨環境
- **OS**: Windows 10/11, macOS 10.15以降
- **LTspice**: LTspice24最新版
- **KiCad**: KiCad 7.0以降

## 🤝 貢献

このプロジェクトは教育・研究目的で作成されています。質問や改善提案は Issues または Pull Request でお願いします。

## 📄 ライセンス

このプロジェクトの文書およびコードは教育目的で公開されています。

## 👤 作成者

- **プロジェクト**: 大阪工業大学 刈羽研究室
- **作成日**: 2025年11月

---

🤖 Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
